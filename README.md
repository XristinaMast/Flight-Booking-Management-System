Το πρόγραμμα διαχειρίζεται μέσω flask μια βάση δεδομένων χρηστών και πτήσεων, οι οποίες διαχειρίζονται από τους διαχειριστές.

για αρχή δημιουργούμαι τους χρήστες και το endpoint αυτό καλείται με τη μέθοδο POST.

Αρχικά ελέγχουμε για το αν το request έχει τα απαραίτητα πεδία. Θα το εξηγήσουμε εδώ με ποιον τρόπο γίνεται και δεν θα το αναλύσουμε στα υπόλοιπα endpoints αφού χρησιμοποιούμε την ίδια μέθοδο.

Για να ελέγξουμε αν το request έχει τα στοιχεία που χρειαζόμαστε, καλείται η συνάρτηση has_required_fields με όρισμα μια λίστα από string που είναι τα ονόματα των fields που πρέπει να περιέχονται στο request, και το data δηλαδή τα δεδομένα από το request. Μέσα στην συνάρτηση has_required_fields τρέχει ένα loop που ελέγχει αν το request εμπεριέχει τα string ονόματα ως fields.

Για τον έλεγχο ταυτότητας του χρήστη, o χρήστης συνδέεται χρησιμοποιώντας τη διεύθυνση ηλεκτρονικού ταχυδρομείου και τον κωδικό πρόσβασής του για να υποβάλει αίτημα δημοσίευσης. Διερευνάται η ύπαρξη ενός λογαριασμού που περιέχει αυτά τα δεδομένα. Εάν δεν υπάρχει, εμφανίζεται μια ειδοποίηση σφάλματος. 
Αν υπάρχει, καλείται η συνάρτηση create_session, προσθέτοντας στη λίστα users_sessions μια υπολίστα με αυτά τα τέσσερα στοιχεία: user_uuid-ένας ειδικός κωδικός, το ηλεκτρονικό ταχυδρομείο του χρήστη, την ταξινόμηση του χρήστη (Admin για έναν διαχειριστή, basic για έναν απλό χρήστη). Εμφανίζεται το user_uuid.
Όταν ένας χρήστης επιθυμεί να εκτελέσει μια εργασία που απαιτεί έλεγχο ταυτότητας καλεί τη μέθοδο is_session_valid. Το user_uuid του χρήστη και η κατηγορία που απαιτεί αυτή η ενέργεια παρέχονται ως ορίσματα (για παράδειγμα, αν η ενέργεια απαιτεί ο χρήστης να είναι διαχειριστής, η κατηγορία θα είναι "Administrator").
Μόνο αν το user_uuid είναι καταγεγραμμένο στη λίστα users_sessions και ο χρήστης έχει τα απαιτούμενα δικαιώματα (που δίνονται από την κατηγορία), η μέθοδος επιστρέφει True. Θα πρέπει να τονιστεί ότι ενώ το αντίθετο ισχύει για τους κανονικούς χρήστες, ο διαχειριστής έχει όλες τις εξουσίες ενός χρήστη. Ως αποτέλεσμα, η μέθοδος θα επιστρέψει True αν η ενέργεια απαιτεί Simple και ο χρήστης είναι διαχειριστής. Η συνάρτηση θα επιστρέφει πάντα False σε όλα τα άλλα σενάρια.

Με την μέθοδο get_users παίρνουμε όλους τους χρήστες του συστήματος τους οποίους του παίρνουμε σε μορφή json αλλίως το σύστημα επιστρέφει false

Με την μέθοδο add_user που είναι POST πρόσθέτουμε εναν νέο χρήστη και τον βάζουμε να συμπληρώσει κάποια πεδία ('name', 'surname', 'email', 'password', 'birthdate', 'homecountry', 'passport_id') τα οποία είναι απαραίτηστα να συμπληρωθούν. Αν κάποιο πεδίο μείνει άδειο βγάζει error. Ύστερα ελέγχει ότι ο χρήστης είναι μοναδικός: αν είναι τον προσθέτει στο σύστημα αλλιώς βγάζει μήνυμα ότι αυτός ο χρήστης ήδη υπάρχει.

Με την μέθοδο update_user που είναι PUT ενημερώνουμε τα στοιχεία ενός ήδη υπάρχοντος χρήστη. Αφού κάνουμε λοιπόν την αναζήτηση στην βάση δεδομένων τότε επιτρέπυμε να γίνει η αντίστοιχη ενημέρωση αλλιώς βγάζει μήνυμα οτι ο χρήστης δεν υπάρχει. Αντίστοιχα γίνεται και με την μέθοδο delete_user

Ο χρήστης λοιπόν όταν θα θέλει να δει τις διαθέσιμες πτήσεις θα καλέσει την συνάρτηση get_flights (μέθοδος GET) η οποία εμφανίζει όλες τις διαθέσιμες πτήσεις και τις επιστρέφει σε μορφή json αλλίως αν δχεν υπάρχουν καταχωρημένες πτήσεις, τότε το σύστημα επιστρέφει false.

Με το get_flight (μέθοδος GET) εμφανίζονται οι πληροφορίες μιας συγκεκριμένης πτήσης εφόσον υπάρχει αν δεν υπάρχει επιστρέφει false.

Με την μέθοδο add_flight(PUT) προσθέτουμε μια νέα πτήση στην βάση δεδομένων με υποχρεωτικά πεδία ως προς συμπλήρωση ('from', 'to', 'date', 'time', 'price', 'seats'). Αν κάποιο πεδίο μείνει άδειο βγάζει error. Ύστερα ελέγχει ότι η πτήση είναι μοναδικός: αν είναι τον προσθέτει στο σύστημα αλλιώς βγάζει μήνυμα ότι αυτή η πτήση ήδη υπάρχει.

Με την μέθοδο update_flight που είναι PUT ενημερώνουμε τα στοιχεία μιας ήδη υπάρχοντος πτήσης. Αφού κάνουμε λοιπόν την αναζήτηση στην βάση δεδομένων τότε επιτρέπυμε να γίνει η αντίστοιχη ενημέρωση αλλιώς βγάζει μήνυμα οτι η πτήση δεν υπάρχει. Αντίστοιχα γίνεται και με την μέθοδο delete_user

Για να κάνει κράτηση λοιπόν ο χρήστης μία θέση για αρχή με την μέθοδο get_seats(GET) εμφανίζονται όλες οι διαθέσιμες θέσεις από ένα δρομολόγιο το όποιο η συγκεκριμένη συνάρτηση βρίσκει. Με την add_seat(POST) γίνεται η επιθυμητή κράτηση εφόσον υπάρχουν θέσεις, στην αντίθετη περίπτωση επιστρέφει error. Ενώ με την delete_seat(DELETE) ακυρώνεται μια κράτηση.
